<h1 class="mb-4 text-center text-primary">All Borrowings <small class="text-muted">(Librarian Only Access)</small></h1>

<div class="table-responsive">
  <table class="table table-striped table-hover table-bordered align-middle">
    <thead class="table-dark">
      <tr>
        <th>Student</th>
        <th>Book</th>
        <th>Borrowed On</th>
        <th>Due On</th>
        <th>Returned On</th>
      </tr>
    </thead>
    <tbody>
      <% @borrowings.each do |borrowing| %>
        <tr>
          <td><%= borrowing.dig(:student, 'name') %></td>
          <td><%= borrowing.dig(:book, 'title') %></td>
          <td><%= borrowing.dig(:borrowed_on)&.to_date %></td>
          <td><%= borrowing.dig(:due_on)&.to_date %></td>
          <% if borrowing.dig(:returned_on).present? %>
            <td><%= borrowing.dig(:returned_on)&.to_date %></td>
          <% else %>
            <td class="text-danger fw-bold">Not Returned</td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

